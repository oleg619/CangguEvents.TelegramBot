2020-04-29 15:55:16.425 +03:00 [INF] Now listening on: http://localhost:8443
2020-04-29 15:55:16.924 +03:00 [INF] Start webhook with https://a13234e9.ngrok.io/api/telegram/update 991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI
2020-04-29 15:55:18.209 +03:00 [INF] End set webhook
2020-04-29 15:55:18.210 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-04-29 15:55:18.210 +03:00 [INF] Hosting environment: Development
2020-04-29 15:55:18.210 +03:00 [INF] Content root path: C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook
2020-04-29 15:55:18.603 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:18.637 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:18.681 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:18.844 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:18.849 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:18.871 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 184.8314ms
2020-04-29 15:55:18.872 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:18.881 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 264.0781 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:18.963 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:18.981 +03:00 [INF] Request finished in 381.3869ms 500 application/json
2020-04-29 15:55:19.220 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:19.220 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:19.221 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:19.223 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:19.223 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:19.225 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 3.4562ms
2020-04-29 15:55:19.225 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:19.225 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 4.4046 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:19.226 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:19.226 +03:00 [INF] Request finished in 6.1502ms 500 application/json
2020-04-29 15:55:19.464 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 382
2020-04-29 15:55:19.465 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:19.465 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:19.466 +03:00 [INF] We received new {"Id":667231549,"Message":{"MessageId":6086,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:46:29.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/sart","Entities":[{"Type":"BotCommand","Offset":0,"Length":5,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/sart"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:19.466 +03:00 [WRN] Cannot parse /sart from 197056415
2020-04-29 15:55:19.466 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.UnknownCommand
2020-04-29 15:55:19.470 +03:00 [INF] Send CangguEvents.TelegramBot.Application.Models.Responses.TextTelegramResponse
2020-04-29 15:55:19.637 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 171.6981ms
2020-04-29 15:55:19.638 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:19.638 +03:00 [INF] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 200 in 173.1303 ms
2020-04-29 15:55:19.638 +03:00 [INF] Request finished in 173.6327ms 200 
2020-04-29 15:55:21.217 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:21.218 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:21.218 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:21.222 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:21.222 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:21.223 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 4.9325ms
2020-04-29 15:55:21.224 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:21.224 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 6.2629 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:21.227 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:21.228 +03:00 [INF] Request finished in 10.5472ms 500 application/json
2020-04-29 15:55:21.468 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:21.468 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:21.469 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:21.470 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:21.470 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:21.471 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.391ms
2020-04-29 15:55:21.471 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:21.472 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 3.0412 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:21.473 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:21.473 +03:00 [INF] Request finished in 5.009ms 500 application/json
2020-04-29 15:55:25.713 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:25.713 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:25.713 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:25.715 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:25.715 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:25.716 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.7682ms
2020-04-29 15:55:25.716 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:25.716 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 3.5124 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:25.717 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:25.718 +03:00 [INF] Request finished in 5.2519ms 500 application/json
2020-04-29 15:55:26.356 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:26.356 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:26.357 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:26.358 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:26.358 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:26.359 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.3103ms
2020-04-29 15:55:26.359 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:26.359 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 3.0327 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:26.360 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:26.360 +03:00 [INF] Request finished in 4.4582ms 500 application/json
2020-04-29 15:55:27.588 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:27.589 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:27.589 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:27.590 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:27.591 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:27.591 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.2363ms
2020-04-29 15:55:27.591 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:27.592 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 3.0364 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:27.592 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:27.593 +03:00 [INF] Request finished in 4.4696ms 500 application/json
2020-04-29 15:55:29.832 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:29.832 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:29.832 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:29.834 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:29.834 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:29.835 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.2925ms
2020-04-29 15:55:29.835 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:29.835 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.9126 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:29.836 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:29.836 +03:00 [INF] Request finished in 4.8692ms 500 application/json
2020-04-29 15:55:33.960 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:33.960 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:33.960 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:33.963 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:33.963 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:33.963 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.8423ms
2020-04-29 15:55:33.964 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:33.964 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 3.8106 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:33.965 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:33.965 +03:00 [INF] Request finished in 5.0684ms 500 application/json
2020-04-29 15:55:34.076 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:34.076 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:34.077 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:34.078 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:34.078 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:34.079 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.8332ms
2020-04-29 15:55:34.079 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:34.079 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.3544 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:34.080 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:34.080 +03:00 [INF] Request finished in 3.8548ms 500 application/json
2020-04-29 15:55:34.600 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:34.600 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:34.601 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:34.602 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:34.602 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:34.602 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.643ms
2020-04-29 15:55:34.602 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:34.602 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.0942 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:34.603 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:34.603 +03:00 [INF] Request finished in 3.1804ms 500 application/json
2020-04-29 15:55:42.320 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:42.320 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:42.321 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:42.322 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:42.322 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:42.322 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.7147ms
2020-04-29 15:55:42.323 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:42.323 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.2761 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:42.323 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:42.324 +03:00 [INF] Request finished in 3.6192ms 500 application/json
2020-04-29 15:55:50.203 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:50.203 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:50.203 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:50.204 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:50.204 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:50.205 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.1904ms
2020-04-29 15:55:50.206 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:50.206 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.7526 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:50.207 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:50.208 +03:00 [INF] Request finished in 4.7141ms 500 application/json
2020-04-29 15:55:50.847 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 15:55:50.847 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:50.847 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 15:55:50.849 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 15:55:50.850 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 15:55:50.851 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 3.7644ms
2020-04-29 15:55:50.851 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 15:55:50.852 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 4.6757 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:50.853 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 15:55:50.853 +03:00 [INF] Request finished in 6.8281ms 500 application/json
2020-04-29 18:28:58.000 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:28:58.000 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:28:58.001 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:28:58.003 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:28:58.003 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:28:58.004 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 3.2766ms
2020-04-29 18:28:58.004 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:28:58.005 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 4.1821 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:28:58.005 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:28:58.006 +03:00 [INF] Request finished in 5.9211ms 500 application/json
2020-04-29 18:29:02.024 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:29:02.024 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:02.024 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:29:02.025 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:29:02.025 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:29:02.026 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.555ms
2020-04-29 18:29:02.026 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:02.026 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.0106 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:02.027 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:02.027 +03:00 [INF] Request finished in 2.9119ms 500 application/json
2020-04-29 18:29:36.796 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:29:36.796 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:36.796 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:29:36.797 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:29:36.797 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:29:36.798 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.0499ms
2020-04-29 18:29:36.798 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:36.798 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.6073 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:36.799 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:36.799 +03:00 [INF] Request finished in 3.6777ms 500 application/json
2020-04-29 18:29:37.148 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:29:37.148 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:37.148 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:29:37.149 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:29:37.149 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:29:37.149 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1185ms
2020-04-29 18:29:37.149 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:37.149 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.4880 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:37.150 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:37.150 +03:00 [INF] Request finished in 2.3138ms 500 application/json
2020-04-29 18:29:58.243 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:29:58.243 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:58.243 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:29:58.244 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:29:58.244 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:29:58.245 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.637ms
2020-04-29 18:29:58.245 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:29:58.245 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.9981 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:58.245 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:29:58.246 +03:00 [INF] Request finished in 2.8965ms 500 application/json
2020-04-29 18:30:02.260 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:30:02.261 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:02.261 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:30:02.261 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:30:02.261 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:30:02.262 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.3338ms
2020-04-29 18:30:02.262 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:02.262 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.6964 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:02.263 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.TryResolve(IComponentContext context, Type serviceType, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:02.263 +03:00 [INF] Request finished in 2.5263ms 500 application/json
2020-04-29 18:30:37.037 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:30:37.037 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:37.038 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:30:37.038 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:30:37.038 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:30:37.039 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.2758ms
2020-04-29 18:30:37.039 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:37.039 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.6533 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:37.040 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:37.040 +03:00 [INF] Request finished in 2.4418ms 500 application/json
2020-04-29 18:30:37.382 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:30:37.382 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:37.382 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:30:37.382 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:30:37.383 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:30:37.383 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1498ms
2020-04-29 18:30:37.383 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:37.383 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.4635 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:37.384 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:37.384 +03:00 [INF] Request finished in 2.2821ms 500 application/json
2020-04-29 18:30:58.479 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:30:58.479 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:58.479 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:30:58.480 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:30:58.480 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:30:58.481 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.4209ms
2020-04-29 18:30:58.481 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:30:58.481 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.8692 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:58.481 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:30:58.482 +03:00 [INF] Request finished in 2.7014ms 500 application/json
2020-04-29 18:31:02.501 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:31:02.501 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:02.501 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:31:02.501 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:31:02.501 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:31:02.502 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1544ms
2020-04-29 18:31:02.502 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:02.502 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.4604 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:02.503 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:02.503 +03:00 [INF] Request finished in 2.1836ms 500 application/json
2020-04-29 18:31:37.275 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:31:37.275 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:37.275 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:31:37.276 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:31:37.276 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:31:37.276 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1654ms
2020-04-29 18:31:37.276 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:37.276 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.5182 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:37.277 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:37.277 +03:00 [INF] Request finished in 2.4045ms 500 application/json
2020-04-29 18:31:37.618 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:31:37.618 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:37.619 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:31:37.619 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:31:37.619 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:31:37.620 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.4976ms
2020-04-29 18:31:37.620 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:37.620 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.9588 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:37.621 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:37.621 +03:00 [INF] Request finished in 2.7462ms 500 application/json
2020-04-29 18:31:58.718 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:31:58.718 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:58.718 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:31:58.719 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:31:58.719 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:31:58.720 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1682ms
2020-04-29 18:31:58.720 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:31:58.720 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.5473 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:58.720 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:31:58.720 +03:00 [INF] Request finished in 2.3203ms 500 application/json
2020-04-29 18:32:03.039 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:32:03.039 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:03.039 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:32:03.040 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:32:03.040 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:32:03.040 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.333ms
2020-04-29 18:32:03.040 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:03.041 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.7126 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:03.041 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:03.041 +03:00 [INF] Request finished in 2.4801ms 500 application/json
2020-04-29 18:32:37.513 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:32:37.513 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:37.513 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:32:37.514 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:32:37.514 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:32:37.515 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.45ms
2020-04-29 18:32:37.515 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:37.515 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.8704 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:37.516 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:37.516 +03:00 [INF] Request finished in 2.8327ms 500 application/json
2020-04-29 18:32:37.864 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:32:37.864 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:37.864 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:32:37.865 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:32:37.865 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:32:37.866 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.4946ms
2020-04-29 18:32:37.866 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:37.866 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.9401 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:37.867 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:37.867 +03:00 [INF] Request finished in 3.1069ms 500 application/json
2020-04-29 18:32:59.258 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:32:59.258 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:59.258 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:32:59.259 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:32:59.260 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:32:59.260 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.3916ms
2020-04-29 18:32:59.260 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:32:59.260 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.0095 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:59.261 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:32:59.261 +03:00 [INF] Request finished in 2.8518ms 500 application/json
2020-04-29 18:33:03.282 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:33:03.282 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:03.282 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:33:03.282 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:33:03.282 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:33:03.283 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8792ms
2020-04-29 18:33:03.283 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:03.283 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.3054 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:03.284 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:03.284 +03:00 [INF] Request finished in 2.156ms 500 application/json
2020-04-29 18:33:37.755 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:33:37.755 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:37.755 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:33:37.755 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:33:37.755 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:33:37.756 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8859ms
2020-04-29 18:33:37.756 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:37.756 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.1177 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:37.756 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:37.756 +03:00 [INF] Request finished in 1.8273ms 500 application/json
2020-04-29 18:33:38.100 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:33:38.100 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:38.100 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:33:38.101 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:33:38.101 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:33:38.101 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.9935ms
2020-04-29 18:33:38.101 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:38.101 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.2090 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:38.102 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:38.102 +03:00 [INF] Request finished in 1.9837ms 500 application/json
2020-04-29 18:33:59.494 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:33:59.494 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:59.494 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:33:59.494 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:33:59.494 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:33:59.495 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8379ms
2020-04-29 18:33:59.495 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:33:59.495 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0199 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:59.495 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:33:59.495 +03:00 [INF] Request finished in 1.6051ms 500 application/json
2020-04-29 18:34:03.524 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:34:03.524 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:03.524 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:34:03.524 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:34:03.524 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:34:03.525 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8868ms
2020-04-29 18:34:03.525 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:03.525 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0856 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:03.525 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:03.525 +03:00 [INF] Request finished in 1.7295ms 500 application/json
2020-04-29 18:34:37.992 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:34:37.992 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:37.992 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:34:37.992 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:34:37.992 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:34:37.993 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8722ms
2020-04-29 18:34:37.993 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:37.993 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.1632 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:37.994 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:37.994 +03:00 [INF] Request finished in 1.8766ms 500 application/json
2020-04-29 18:34:38.335 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:34:38.335 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:38.336 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:34:38.336 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:34:38.336 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:34:38.336 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.6981ms
2020-04-29 18:34:38.336 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:38.336 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.8735 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:38.337 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:38.337 +03:00 [INF] Request finished in 1.4562ms 500 application/json
2020-04-29 18:34:59.742 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:34:59.742 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:59.742 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:34:59.742 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:34:59.742 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:34:59.742 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.6847ms
2020-04-29 18:34:59.742 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:34:59.743 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.8613 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:59.743 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:34:59.743 +03:00 [INF] Request finished in 1.4852ms 500 application/json
2020-04-29 18:35:03.759 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:35:03.759 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:03.759 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:35:03.760 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:35:03.760 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:35:03.760 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8644ms
2020-04-29 18:35:03.760 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:03.760 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0504 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:03.761 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:03.761 +03:00 [INF] Request finished in 1.6637ms 500 application/json
2020-04-29 18:35:38.302 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:35:38.302 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:38.302 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:35:38.302 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:35:38.302 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:35:38.303 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.835ms
2020-04-29 18:35:38.303 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:38.303 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0087 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:38.303 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:38.303 +03:00 [INF] Request finished in 1.5658ms 500 application/json
2020-04-29 18:35:39.479 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:35:39.479 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:39.479 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:35:39.480 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:35:39.480 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:35:39.480 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.0736ms
2020-04-29 18:35:39.480 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:39.480 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.2845 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:39.481 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:39.481 +03:00 [INF] Request finished in 1.9055ms 500 application/json
2020-04-29 18:35:59.971 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:35:59.971 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:59.971 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:35:59.972 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:35:59.972 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:35:59.972 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.6559ms
2020-04-29 18:35:59.972 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:35:59.972 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0635 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:59.973 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:35:59.973 +03:00 [INF] Request finished in 1.703ms 500 application/json
2020-04-29 18:36:04.133 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:36:04.133 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:04.133 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:36:04.134 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:36:04.134 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:36:04.134 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7798ms
2020-04-29 18:36:04.134 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:04.134 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9497 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:04.135 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:04.135 +03:00 [INF] Request finished in 1.5552ms 500 application/json
2020-04-29 18:36:39.481 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:36:39.481 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:39.481 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:36:39.481 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:36:39.481 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:36:39.482 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7158ms
2020-04-29 18:36:39.482 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:39.482 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9248 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:39.482 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:39.482 +03:00 [INF] Request finished in 1.4686ms 500 application/json
2020-04-29 18:36:39.714 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:36:39.714 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:39.714 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:36:39.714 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:36:39.714 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:36:39.715 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7304ms
2020-04-29 18:36:39.715 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:36:39.715 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9216 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:39.715 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:36:39.715 +03:00 [INF] Request finished in 1.4841ms 500 application/json
2020-04-29 18:37:00.209 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:37:00.209 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:00.209 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:37:00.210 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:37:00.210 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:37:00.210 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.0677ms
2020-04-29 18:37:00.210 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:00.211 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.4484 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:00.211 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:00.211 +03:00 [INF] Request finished in 2.4228ms 500 application/json
2020-04-29 18:37:04.372 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:37:04.372 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:04.372 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:37:04.372 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:37:04.372 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:37:04.373 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8258ms
2020-04-29 18:37:04.373 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:04.373 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.0043 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:04.373 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:04.373 +03:00 [INF] Request finished in 1.5638ms 500 application/json
2020-04-29 18:37:39.716 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:37:39.716 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:39.716 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:37:39.716 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:37:39.716 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:37:39.717 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.8386ms
2020-04-29 18:37:39.717 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:39.717 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.2225 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:39.717 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:39.717 +03:00 [INF] Request finished in 1.7799ms 500 application/json
2020-04-29 18:37:39.951 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:37:39.951 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:39.952 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:37:39.952 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:37:39.952 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:37:39.952 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7463ms
2020-04-29 18:37:39.952 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:37:39.952 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9411 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:39.953 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:37:39.953 +03:00 [INF] Request finished in 1.526ms 500 application/json
2020-04-29 18:38:00.444 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:38:00.444 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:00.444 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:38:00.445 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:38:00.445 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:38:00.445 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.9594ms
2020-04-29 18:38:00.445 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:00.445 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.1234 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:00.446 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:00.446 +03:00 [INF] Request finished in 1.6817ms 500 application/json
2020-04-29 18:38:04.608 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:38:04.608 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:04.608 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:38:04.609 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:38:04.609 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:38:04.609 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.962ms
2020-04-29 18:38:04.609 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:04.609 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.1247 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:04.610 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:04.610 +03:00 [INF] Request finished in 1.6712ms 500 application/json
2020-04-29 18:38:39.950 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:38:39.950 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:39.950 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:38:39.951 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:38:39.951 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:38:39.951 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.738ms
2020-04-29 18:38:39.951 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:39.951 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9297 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:39.952 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:39.952 +03:00 [INF] Request finished in 1.4866ms 500 application/json
2020-04-29 18:38:40.185 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:38:40.185 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:40.185 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:38:40.186 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:38:40.186 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:38:40.186 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7175ms
2020-04-29 18:38:40.186 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:38:40.186 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9296 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:40.187 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:38:40.187 +03:00 [INF] Request finished in 1.5441ms 500 application/json
2020-04-29 18:39:00.680 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:39:00.680 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:00.680 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:39:00.680 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:39:00.680 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:39:00.681 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7007ms
2020-04-29 18:39:00.681 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:00.681 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.8763 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:00.681 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:00.681 +03:00 [INF] Request finished in 1.4195ms 500 application/json
2020-04-29 18:39:04.844 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:39:04.844 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:04.844 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:39:04.845 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:39:04.845 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:39:04.845 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7489ms
2020-04-29 18:39:04.845 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:04.845 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9292 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:04.846 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:04.846 +03:00 [INF] Request finished in 1.5259ms 500 application/json
2020-04-29 18:39:40.186 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:39:40.186 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:40.186 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:39:40.186 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:39:40.186 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:39:40.187 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.9511ms
2020-04-29 18:39:40.187 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:40.187 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.2675 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:40.188 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:40.188 +03:00 [INF] Request finished in 2.2251ms 500 application/json
2020-04-29 18:39:40.424 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:39:40.424 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:40.424 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:39:40.424 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:39:40.424 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:39:40.425 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.6574ms
2020-04-29 18:39:40.425 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:39:40.425 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.8044 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:40.425 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:39:40.425 +03:00 [INF] Request finished in 1.3395ms 500 application/json
2020-04-29 18:40:00.916 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:40:00.916 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:00.916 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:40:00.916 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:40:00.916 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:40:00.917 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.0089ms
2020-04-29 18:40:00.917 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:00.917 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.2121 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:00.918 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:00.918 +03:00 [INF] Request finished in 1.8257ms 500 application/json
2020-04-29 18:40:05.083 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:40:05.083 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:05.083 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:40:05.083 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:40:05.083 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:40:05.084 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.1553ms
2020-04-29 18:40:05.084 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:05.084 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.4770 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:05.085 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:05.085 +03:00 [INF] Request finished in 2.0406ms 500 application/json
2020-04-29 18:40:40.458 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:40:40.458 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:40.458 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:40:40.459 +03:00 [INF] We received new {"Id":667231547,"Message":{"MessageId":6084,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:15.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:40:40.459 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:40:40.459 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 0.7255ms
2020-04-29 18:40:40.459 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:40.459 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 0.9135 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:40.460 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:40.460 +03:00 [INF] Request finished in 1.5994ms 500 application/json
2020-04-29 18:40:40.693 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:40:40.693 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:40.693 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:40:40.694 +03:00 [INF] We received new {"Id":667231548,"Message":{"MessageId":6085,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:45:48.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:40:40.694 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:40:40.695 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 2.165ms
2020-04-29 18:40:40.695 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:40:40.695 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 2.6952 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:40.696 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:40:40.697 +03:00 [INF] Request finished in 4.1134ms 500 application/json
2020-04-29 18:41:01.153 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:41:01.153 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:41:01.153 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:41:01.154 +03:00 [INF] We received new {"Id":667231550,"Message":{"MessageId":6089,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:55:27.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:41:01.154 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:41:01.154 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.0491ms
2020-04-29 18:41:01.154 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:41:01.154 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.3098 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:41:01.155 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:41:01.155 +03:00 [INF] Request finished in 1.8607ms 500 application/json
2020-04-29 18:41:05.318 +03:00 [INF] Request starting HTTP/1.1 POST http://a13234e9.ngrok.io/api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI application/json 383
2020-04-29 18:41:05.318 +03:00 [INF] Executing endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:41:05.318 +03:00 [INF] Route matched with {action = "Update", controller = "Telegram"}. Executing controller action with signature System.Threading.Tasks.Task Update(System.String, Telegram.Bot.Types.Update) on controller CangguEvents.TelegramBot.Webhook.Controllers.TelegramController (CangguEvents.TelegramBot.Webhook).
2020-04-29 18:41:05.319 +03:00 [INF] We received new {"Id":667231551,"Message":{"MessageId":6090,"From":{"Id":197056415,"IsBot":false,"FirstName":"Oleh","LastName":"Hrechukh","Username":"olehrechukh","LanguageCode":"en","CanJoinGroups":null,"CanReadAllGroupMessages":null,"SupportsInlineQueries":null,"$type":"User"},"Date":"2020-04-29T12:59:46.0000000Z","Chat":{"Id":197056415,"Type":"Private","Title":null,"Username":"olehrechukh","FirstName":"Oleh","LastName":"Hrechukh","AllMembersAreAdministrators":false,"Photo":null,"Description":null,"InviteLink":null,"PinnedMessage":null,"Permissions":null,"SlowModeDelay":null,"StickerSetName":null,"CanSetStickerSet":null,"$type":"Chat"},"IsForwarded":false,"ForwardFrom":null,"ForwardFromChat":null,"ForwardFromMessageId":0,"ForwardSignature":null,"ForwardSenderName":null,"ForwardDate":null,"ReplyToMessage":null,"EditDate":null,"MediaGroupId":null,"AuthorSignature":null,"Text":"/start","Entities":[{"Type":"BotCommand","Offset":0,"Length":6,"Url":null,"User":null,"Language":null,"$type":"MessageEntity"}],"EntityValues":["/start"],"CaptionEntities":null,"CaptionEntityValues":null,"Audio":null,"Document":null,"Animation":null,"Game":null,"Photo":null,"Sticker":null,"Video":null,"Voice":null,"VideoNote":null,"Caption":null,"Contact":null,"Location":null,"Venue":null,"Poll":null,"Dice":null,"NewChatMembers":null,"LeftChatMember":null,"NewChatTitle":null,"NewChatPhoto":null,"DeleteChatPhoto":false,"GroupChatCreated":false,"SupergroupChatCreated":false,"ChannelChatCreated":false,"MigrateToChatId":0,"MigrateFromChatId":0,"PinnedMessage":null,"Invoice":null,"SuccessfulPayment":null,"ConnectedWebsite":null,"PassportData":null,"ReplyMarkup":null,"Type":"Text","$type":"Message"},"EditedMessage":null,"InlineQuery":null,"ChosenInlineResult":null,"CallbackQuery":null,"ChannelPost":null,"EditedChannelPost":null,"ShippingQuery":null,"PreCheckoutQuery":null,"Poll":null,"PollAnswer":null,"Type":"Message","$type":"Update"}
2020-04-29 18:41:05.319 +03:00 [INF] Parse Telegram.Bot.Types.Update to CangguEvents.TelegramBot.Application.Models.Commands.StartCommand
2020-04-29 18:41:05.319 +03:00 [INF] Executed action CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook) in 1.0732ms
2020-04-29 18:41:05.319 +03:00 [INF] Executed endpoint 'CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update (CangguEvents.TelegramBot.Webhook)'
2020-04-29 18:41:05.319 +03:00 [ERR] HTTP POST /api/telegram/update/991864980:AAHKw9PkXLmspAcWOXnGMFGw6Q2f3OnODkI responded 500 in 1.3086 ms
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:41:05.320 +03:00 [ERR] Something went wrong: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[CangguEvents.TelegramBot.Application.Models.Commands.StartCommand,System.Collections.Generic.IReadOnlyCollection`1[CangguEvents.TelegramBot.Application.Services.ITelegramResponse]]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'CangguEvents.TelegramBot.Application.Mediatr.Handlers.StartHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'CangguEvents.Domain.Repositories.IUserStateRepository stateRepository' of constructor 'Void .ctor(CangguEvents.Domain.Repositories.IUserStateRepository)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(ConstructorInfo[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at CangguEvents.TelegramBot.Webhook.MediatorModule.<>c__DisplayClass0_0.<Load>b__1(Type t) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Startup.cs:line 110
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Internal.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, CancellationToken cancellationToken, ServiceFactory serviceFactory)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at CangguEvents.TelegramBot.Application.Services.TelegramMessageHandler.Handle(Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Application\Services\TelegramMessageHandler.cs:line 41
   at CangguEvents.TelegramBot.Webhook.Controllers.TelegramController.Update(String token, Update update) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Controllers\TelegramController.cs:line 36
   at lambda_method(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at CangguEvents.TelegramBot.Webhook.Middleware.SerilogMiddleware.Invoke(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\SerilogMiddleware.cs:line 56
   at CangguEvents.TelegramBot.Webhook.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Projects\Pet\CangguEvents\CangguEvents.TelegramBot\src\CangguEvents.TelegramBot.Webhook\Middleware\ExceptionMiddleware.cs:line 25
2020-04-29 18:41:05.320 +03:00 [INF] Request finished in 1.8887ms 500 application/json
